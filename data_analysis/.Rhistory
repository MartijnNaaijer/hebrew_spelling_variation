dat$scroll))
dat$scroll <- as.factor(dat$scroll)
str(dat)
dat$type
dat$type <- factor(dat$type, levels = c('last', 'first', 'single'))
levels(dat$type)
mt <- dat %>% filter(scroll == 'MT')
variation_lex_type_list <- list()
for (lex_t in unique(mt$lex_type)) {
lex_type_df <- mt %>% filter(lex_type == lex_t)
lt_vowels <- unique(lex_type_df$has_vowel_letter)
if (length(lt_vowels) > 1) {
variation_lex_type_list[[lex_t]] <- lex_type_df
}
}
mt_var <- do.call('rbind', variation_lex_type_list)
head(mt_var)
levels(mt_var$type)
dim(mt_var)
library(tidyverse)
library(brms)
library(bayesplot)
library(tidybayes)
MODEL_FOLDER <- './analysis_nouns_adjectives/output/models'
MODEL <- 'bayes_model_mt_var7.rds'
file_path_mt_var <- file.path(MODEL_FOLDER, MODEL)
mt_var_model <- readRDS(file_path_mt_var)
coef <- fixef(mt_var_model, summary = TRUE)
coef
plot(conditional_effects(mt_var_model, effects = 'has_pronominal_suffix'))
plot(conditional_effects(mt_var_model, effects = 'has_nme'))
plot(conditional_effects(mt_var_model, effects = 'has_prefix'))
plot(conditional_effects(mt_var_model, effects = 'law_phase'))
# make plots to check for convergence
plot(mt_var_model)
ggpredict(mt_var_model, terms = c('law_phase', 'has_nme')) |> plot()
library(ggeffects)
install.packages('ggeffects')
library(ggeffects)
ggpredict(mt_var_model, terms = c('law_phase', 'has_nme')) |> plot()
ggpredict(mt_var_model, terms = c('law_phase', 'has_nme', 'type')) |> plot()
ggpredict(mt_var_model, terms = c('law_phase', 'has_nme', 'type [1]')) |> plot()
ggpredict(mt_var_model, terms = c('law_phase', 'has_nme', 'type ["last"]')) |> plot()
ggpredict(mt_var_model, terms = c('type ["last"]')) |> plot()
ggpredict(mt_var_model, terms = c('type ['last']')) |> plot()
ggpredict(mt_var_model, terms = c("type ['last']")) |> plot()
ggpredict(mt_var_model, terms = c("type")) |> plot()
ggpredict(mt_var_model, terms = c('has_nme', "type ["last"]")) |> plot()
ggpredict(mt_var_model, terms = c('has_nme', "type ['last']")) |> plot()
ggpredict(mt_var_model, terms = c('has_nme', "type ['1']")) |> plot()
ggpredict(mt_var_model, terms = c("type ['last]", 'has_nme')) |> plot()
ggpredict(mt_var_model, terms = c("type ['last']", 'has_nme')) |> plot()
ggpredict(mt_var_model, terms = c("type [last]", 'has_nme')) |> plot()
library(tidyverse)
library(lme4)
library(brms)
MODEL_FOLDER <- 'C:/Users/geitb/Kopenhagen/KopenhagenResearch/monograph/chapters/NounsAdjectives/models_rstanarm'
EBH_BOOKS <- c("Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy", "Joshua",
"Judges", "1_Samuel", "2_Samuel", "1_Kings", "2_Kings")
LBH_BOOKS <- c("Esther", "Daniel", "Ezra", "Nehemiah", "1_Chronicles", "2_Chronicles")
LAW_BOOKS <- c("Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy")
QSP_SCROLLS = c('2Q3', '4Q13', '4Q20', '2Q7', '4Q27', '1Q4', '2Q12', '4Q37', '4Q38', '4Q38a', '4Q40', '4Q53',
'1Qisaa', '4Q57', '2Q13', '4Q78', '4Q80', '4Q82', '4Q128', '4Q129', '4Q134', '4Q135', '4Q136',
'4Q137', '4Q138', '4Q139', '4Q140', '4Q141', '4Q142', '4Q143', '4Q144', '4Q158', '4Q364',
'4Q365', '4Q96', '4Q111', '4Q109', '11Q5', '11Q6', '11Q7', '11Q8')
length(QSP_SCROLLS)
dat <- read.csv('C:/Users/geitb/Kopenhagen/KopenhagenResearch/scripts_research/hebrew_spelling_variation/data/nouns_adjectives.csv', sep='\t')
dim(dat)
head(dat)
str(dat)
unique(dat$book)
sum(is.na(dat$pattern))
sum(table(dat$pattern))
dat$has_suffix <- dat$has_prs | dat$has_nme
# has_prefix, has_prs, has_nme, lex, book, has_vowel_letter
dat$has_prefix <- as.factor(dat$has_prefix)
dat$has_prsx <- as.factor(dat$has_prs)
dat$has_suffix <- as.factor(dat$has_suffix)
dat$has_nme <- as.factor(dat$has_nme)
dat$lex <- as.factor(dat$lex)
dat$book <- as.factor(dat$book)
dat$has_vowel_letter <- as.factor(dat$has_vowel_letter)
dat$type <- as.factor(dat$type)
dat$lex_type <- paste(dat$lex, dat$type, sep='_')
dat$lex_type <- as.factor(dat$lex_type)
dat$book2 <- dat$book %>% str_replace('1_', '') %>% str_replace('2_', '')
table(dat$book2)
dat$phase <- ifelse(dat$book %in% EBH_BOOKS, 'EBH', ifelse(dat$book %in% LBH_BOOKS, 'LBH', 'NO'))
dat$law_phase <- ifelse(dat$book %in% LAW_BOOKS, 0, ifelse(dat$book %in% EBH_BOOKS, 1,
ifelse(dat$book %in% LBH_BOOKS, 2, 3)))
dat$law_phase <- as.factor(dat$law_phase)
dat$qsp <- ifelse(dat$scroll %in% QSP_SCROLLS, 1, 0)
# Make 2 scrolls of 1Qisaa
dat$scroll <- ifelse(dat$scroll == '1Qisaa' & dat$chapter < 34, '1QisaaI',
ifelse(dat$scroll == '1Qisaa' & dat$chapter > 33, '1QisaaII',
dat$scroll))
dat$scroll <- as.factor(dat$scroll)
str(dat)
dat$type
dat$type <- factor(dat$type, levels = c('last', 'first', 'single'))
levels(dat$type)
bayes_model_dat <- brm(formula = has_vowel_letter ~
has_pronominal_suffix*type*qsp +
has_nme*type*qsp +
has_prefix*type*qsp +
(has_pronominal_suffix*type + has_nme*type + has_prefix*type | scroll/lex),
prior = set_prior("normal(0, 1)", class = 'Intercept') +
set_prior("normal(0,1)", class = 'b'),
data = dat,
family = bernoulli(link = 'logit'),
warmup = 4000,
iter = 8000,
chains = 4,
cores=4,
control = list(adapt_delta = 0.95),
seed = 123)
bayes_model_dat <- brm(formula = has_vowel_letter ~
has_prs*type*qsp +
has_nme*type*qsp +
has_prefix*type*qsp +
(has_prs*type + has_nme*type + has_prefix*type | scroll/lex),
prior = set_prior("normal(0, 1)", class = 'Intercept') +
set_prior("normal(0,1)", class = 'b'),
data = dat,
family = bernoulli(link = 'logit'),
warmup = 4000,
iter = 8000,
chains = 4,
cores=4,
control = list(adapt_delta = 0.95),
seed = 123)
summary(bayes_model_dat)
ranef(bayes_model_dat)
file_path_dat <- file.path(MODEL_FOLDER, 'bayes_model_dat2.rds')
saveRDS(bayes_model_dat, file = file_path_dat)
library(tidyverse)
library(lme4)
library(brms)
MODEL_FOLDER <- 'C:/Users/geitb/Kopenhagen/KopenhagenResearch/monograph/chapters/NounsAdjectives/models_rstanarm'
EBH_BOOKS <- c("Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy", "Joshua",
"Judges", "1_Samuel", "2_Samuel", "1_Kings", "2_Kings")
LBH_BOOKS <- c("Esther", "Daniel", "Ezra", "Nehemiah", "1_Chronicles", "2_Chronicles")
LAW_BOOKS <- c("Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy")
QSP_SCROLLS = c('2Q3', '4Q13', '4Q20', '2Q7', '4Q27', '1Q4', '2Q12', '4Q37', '4Q38', '4Q38a', '4Q40', '4Q53',
'1Qisaa', '4Q57', '2Q13', '4Q78', '4Q80', '4Q82', '4Q128', '4Q129', '4Q134', '4Q135', '4Q136',
'4Q137', '4Q138', '4Q139', '4Q140', '4Q141', '4Q142', '4Q143', '4Q144', '4Q158', '4Q364',
'4Q365', '4Q96', '4Q111', '4Q109', '11Q5', '11Q6', '11Q7', '11Q8')
length(QSP_SCROLLS)
dat <- read.csv('C:/Users/geitb/Kopenhagen/KopenhagenResearch/scripts_research/hebrew_spelling_variation/data/nouns_adjectives.csv', sep='\t')
dim(dat)
head(dat)
str(dat)
unique(dat$book)
sum(is.na(dat$pattern))
sum(table(dat$pattern))
dat$has_suffix <- dat$has_prs | dat$has_nme
# has_prefix, has_prs, has_nme, lex, book, has_vowel_letter
dat$has_prefix <- as.factor(dat$has_prefix)
dat$has_prsx <- as.factor(dat$has_prs)
dat$has_suffix <- as.factor(dat$has_suffix)
dat$has_nme <- as.factor(dat$has_nme)
dat$lex <- as.factor(dat$lex)
dat$book <- as.factor(dat$book)
dat$has_vowel_letter <- as.factor(dat$has_vowel_letter)
dat$type <- as.factor(dat$type)
dat$lex_type <- paste(dat$lex, dat$type, sep='_')
dat$lex_type <- as.factor(dat$lex_type)
dat$book2 <- dat$book %>% str_replace('1_', '') %>% str_replace('2_', '')
table(dat$book2)
dat$phase <- ifelse(dat$book %in% EBH_BOOKS, 'EBH', ifelse(dat$book %in% LBH_BOOKS, 'LBH', 'NO'))
dat$law_phase <- ifelse(dat$book %in% LAW_BOOKS, 0, ifelse(dat$book %in% EBH_BOOKS, 1,
ifelse(dat$book %in% LBH_BOOKS, 2, 3)))
dat$law_phase <- as.factor(dat$law_phase)
dat$qsp <- ifelse(dat$scroll %in% QSP_SCROLLS, 1, 0)
# Make 2 scrolls of 1Qisaa
dat$scroll <- ifelse(dat$scroll == '1Qisaa' & dat$chapter < 34, '1QisaaI',
ifelse(dat$scroll == '1Qisaa' & dat$chapter > 33, '1QisaaII',
dat$scroll))
dat$scroll <- as.factor(dat$scroll)
str(dat)
dat$type
dat$type <- factor(dat$type, levels = c('last', 'first', 'single'))
levels(dat$type)
mt <- dat %>% filter(scroll == 'MT')
bayes_model_dat <- brm(formula = has_vowel_letter ~
has_prs*type*qsp +
has_nme*type*qsp +
has_prefix*type*qsp +
(has_prs*type + has_nme*type + has_prefix*type | scroll/lex),
prior = set_prior("normal(0, 1)", class = 'Intercept') +
set_prior("normal(0,1)", class = 'b'),
data = dat,
family = bernoulli(link = 'logit'),
warmup = 6000,
iter = 12000,
chains = 4,
cores=4,
control = list(adapt_delta = 0.95),
seed = 123)
summary(bayes_model_dat)
ranef(bayes_model_dat)
file_path_dat <- file.path(MODEL_FOLDER, 'bayes_model_dat2.rds')
saveRDS(bayes_model_dat, file = file_path_dat)
library(tidyverse)
library(brms)
library(bayesplot)
library(tidybayes)
library(ggeffects)
MODEL_FOLDER <- './analysis_nouns_adjectives/output/models'
MODEL_NAME <- 'bayes_model_mt_var7.rds'
file_path_mt_var <- file.path(MODEL_FOLDER, MODEL_NAME)
mt_var_model <- readRDS(file_path_mt_var)
# Random effect book / first syllable and prefix
mt_draws_random_book <- mt_var_model %>%
spread_draws(r_book2[book,term])
dim(mt_draws_random_book)
head(mt_draws_random_book)
data_wide <- spread(mt_draws_random_book, term, r_book2)
head(data_wide)
dim(data_wide)
colnames(data_wide)
intercept_first <- mt_draws_single %>%
median_qi(condition_mean = Intercept + typefirst, .width = c(.95, .66))
intercept_first <- data_wide |>
median_qi(condition_mean = Intercept + typefirst, .width = c(.95, .66))
prefix_effect_first <- data_wide |>
median_qi(condition_mean = Intercept + typefirst + has_prefix1 + `typefirst:has_prefix1`, .width = c(.95, .66))
intercept_first %>%
ggplot(aes(y = phase, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and first syllable intercept')
intercept_first
intercept_first %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and first syllable intercept')
DATASET<- 'nouns_adjectives.csv'
dat <- read.csv(file.path('../data', DATASET), sep = '\t')
dat <- dat %>% filter(scroll == 'MT')
dat$book2 <- dat$book %>% str_replace_all('1_', '') %>% str_replace_all('2_', '')
mt_books <- unique(dat$book2)
mt_books
head(data_wide)
data_wide$book <- factor(data_wide$book, levels=mt_books)
colnames(data_wide)
dim(data_wide)
str(data_wide)
intercept_first %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and first syllable intercept')
intercept_first %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and first syllable intercept aap')
intercept_first <- data_wide |>
median_qi(condition_mean = Intercept + typefirst, .width = c(.95, .66))
prefix_effect_first <- data_wide |>
median_qi(condition_mean = Intercept + typefirst + has_prefix1 + `typefirst:has_prefix1`, .width = c(.95, .66))
intercept_first
intercept_first %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and first syllable intercept aap')
prefix_effect_first %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and first syllable with prefix')
intercept_first %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and first syllable intercept')
prefix_effect_first %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and first syllable with prefix')
colnames(data_wide)
# Last syllable
intercept_last <- data_wide |>
median_qi(condition_mean = Intercept, .width = c(.95, .66))
prefix_effect_last <- data_wide |>
median_qi(condition_mean = Intercept + has_prefix1, .width = c(.95, .66))
# Last syllable
intercept_last <- data_wide |>
median_qi(condition_mean = Intercept, .width = c(.95, .66))
prefix_effect_last <- data_wide |>
median_qi(condition_mean = Intercept + has_prefix1, .width = c(.95, .66))
intercept_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable intercept')
prefix_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prefix')
prefix_effect_last <- data_wide |>
median_qi(condition_mean = has_prefix1, .width = c(.95, .66))
# Last with nme
prefix_effect_last <- data_wide |>
median_qi(condition_mean = Intercept + has_nme1, .width = c(.95, .66))
# Last with nme
nme_effect_last <- data_wide |>
median_qi(condition_mean = Intercept + has_nme1, .width = c(.95, .66))
nme_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prefix')
# Last with nme
nme_effect_last <- data_wide |>
median_qi(condition_mean = has_nme1, .width = c(.95, .66))
nme_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prefix')
# Last with prs
prs_effect_last <- data_wide |>
median_qi(condition_mean = has_prs1, .width = c(.95, .66))
prs_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prs')
# Last with prs
prs_effect_last <- data_wide |>
median_qi(condition_mean = has_prs1, .width = c(.95, .66))
# Last with prs
prs_effect_last <- data_wide |>
median_qi(condition_mean = has_proominal_suffix1, .width = c(.95, .66))
colnames(data_wide)
# Last with prs
prs_effect_last <- data_wide |>
median_qi(condition_mean = has_pronominal_suffix1, .width = c(.95, .66))
prs_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prs')
# Last with nme
nme_effect_last <- data_wide |>
median_qi(condition_mean = has_nme1, .width = c(.95, .66))
nme_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with nme')
# Last with nme
nme_effect_last <- data_wide |>
median_qi(condition_mean = has_nme1, .width = c(.95, .66))
nme_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with nme')
# Last with prs
prs_effect_last <- data_wide |>
median_qi(condition_mean = Intercept + has_pronominal_suffix1, .width = c(.95, .66))
prs_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prs')
prs_effect_last
prs_effect$book <- prs_effect$book |> str_c('_with_prs')
prs_effect_last$book <- prs_effect_last$book |> str_c('_with_prs')
prs_effect_last
prs_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prs')
# Last with prs
prs_effect_last <- data_wide |>
median_qi(condition_mean = Intercept + has_pronominal_suffix1, .width = c(.95, .66))
prs_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prs')
prs_effect_last$book2 <- prs_effect_last$book |> str_c('_with_prs')
prs_effect_last
prs_last_df <- cbind(prs_effect_last, intercept_last)
prs_last_df %>%
ggplot(aes(y = book2, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prs')
prs_last_df
prs_last_df <- rbind(prs_effect_last, intercept_last)
prs_last_df
# Last with prs
prs_effect_last <- data_wide |>
median_qi(condition_mean = Intercept + has_pronominal_suffix1, .width = c(.95, .66))
prs_effect_last %>%
ggplot(aes(y = book, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prs')
prs_effect_last
prs_effect_last$book2 <- prs_effect_last$book |> str_c('_with_prs')
intercept_last$book2 <- intercept_last$book
prs_last_df <- rbind(prs_effect_last, intercept_last)
prs_last_df
prs_last_df %>%
ggplot(aes(y = book2, x = condition_mean, xmin = .lower, xmax = .upper)) +
geom_pointinterval() +
ggtitle('Random effect: book and last syllable with prs')
dat <- read.csv(file.path(folder, file), sep='\t')
folder <- 'C:/Users/geitb/Kopenhagen/KopenhagenResearch/scripts_research/hebrew_spelling_variation/data'
file <- 'nouns_adjectives_wit_sp.csv'
dat <- read.csv(file.path(folder, file), sep='\t')
file <- 'nouns_adjectives_with_sp.csv'
dat <- read.csv(file.path(folder, file), sep='\t')
shape(dat)
dim(dat)
unique(dat$book)
pent <- c("Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy")
pent_df <- dat |>
filter(book %in% pent) |>
filter(scroll %in% c('MT', 'SP'))
head(dat)
unique(dat$book)
pent <- c("Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy")
pent_df <- dat |>
filter(book %in% pent) |>
filter(scroll %in% c('MT', 'SP'))
library(tidyverse)
pent_df <- dat |>
filter(book %in% pent) |>
filter(scroll %in% c('MT', 'SP'))
library(lme4)
dat$has_prefix <- as.factor(dat$has_prefix)
dat$has_prsx <- as.factor(dat$has_prs)
dat <- read.csv(file.path(folder, file), sep='\t')
dim(dat)
head(dat)
dat$has_prefix <- as.factor(dat$has_prefix)
dat$has_prsx <- as.factor(dat$has_prs)
dat$has_suffix <- as.factor(dat$has_suffix)
dat$has_nme <- as.factor(dat$has_nme)
dat$lex <- as.factor(dat$lex)
dat$book <- as.factor(dat$book)
dat$has_vowel_letter <- as.factor(dat$has_vowel_letter)
dat$type <- as.factor(dat$type)
dat$lex_type <- paste(dat$lex, dat$type, sep='_')
dat$lex_type <- as.factor(dat$lex_type)
dat$book2 <- dat$book %>% str_replace('1_', '') %>% str_replace('2_', '')
dat$type <- factor(dat$type, levels = c('last', 'first', 'single'))
unique(dat$book)
pent <- c("Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy")
pent_df <- dat |>
filter(book %in% pent) |>
filter(scroll %in% c('MT', 'SP'))
heb_model_ha <- glmer(
has_vowel_letter ~  has_pronominal_suffix*type +  has_nme*type + has_prefix*type +
(1 | book2),
data = pent_df, family = binomial,
)
heb_model_ha <- glmer(
has_vowel_letter ~  has_prs*type +  has_nme*type + has_prefix*type +
(1 | book2),
data = pent_df, family = binomial,
)
summary(heb_model_ha)
ranef(heb_model_ha)
heb_model_ha <- glmer(
has_vowel_letter ~  has_prs*type +  has_nme*type + has_prefix*type +
(1 | scroll/book2),
data = pent_df, family = binomial,
)
summary(heb_model_ha)
ranef(heb_model_ha)
heb_model_ha <- glmer(
has_vowel_letter ~  has_prs*type +  has_nme*type + has_prefix*type +
(1 | scroll/book2/lex_type),
data = pent_df, family = binomial,
)
summary(heb_model_ha)
ranef(heb_model_ha)
summary(heb_model_ha)
getwd()
dat<- read.csv(file.path(folder, file))
folder <- 'C:/Users/geitb/Kopenhagen/KopenhagenResearch/scripts_research/experiments_sp_nouns_adjectives'
file <- 'exo_lex_types.csv'
dat<- read.csv(file.path(folder, file))
dim(dat)
dat<- read.csv(file.path(folder, file), sep='\t')
dim(dat)
data.pca <- princomp(dat)
data.pca <- princomp(t(dat))
summary(data.pca)
data.pca <- prcomp(t(dat))
head(dat)
colSums(dat)
str(dat)
rownames(dat) <- dat$X]
rownames(dat) <- dat$X
dat$X- NULL
dat$X <- NULL
colSums(dat)
data.pca <- prcomp(t(dat))
summary(data.pca)
fviz_eig(data.pca, addlabels = TRUE)
install.packages("FactoMineR")
library("FactoMineR")
fviz_eig(data.pca, addlabels = TRUE)
library("FactoMineR")
fviz_eig(data.pca, addlabels = TRUE)
fviz_pca_var(data.pca, col.var = "black")
library(factoextra)
fviz_eig(data.pca, addlabels = TRUE)
fviz_pca_var(data.pca, col.var = "black")
fviz_cos2(data.pca, choice = "var", axes = 1:2)
data.pca <- prcomp(dat)
summary(data.pca)
fviz_eig(data.pca, addlabels = TRUE)
fviz_pca_var(data.pca, col.var = "black")
fviz_cos2(data.pca, choice = "var", axes = 1:2)
fviz_eig(data.pca, addlabels = TRUE)
fviz_pca_var(data.pca, col.var = "black")
biplot(data.pca,
scale = 0)
